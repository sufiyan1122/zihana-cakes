!function(i){i.fn.Slider=function(t){t=i.extend({startSlide:0,item:".DSlider-item",isFlexible:!1,isShowPage:!0,isShowTitle:!0,titleAttr:"data-title",isShowControls:!0,isAuto:!0,intervalTime:5e3,affectTime:300,mode:"move",direction:"left"},t);var e={init:function(s){this.$itemWrap=s,this.$item=this.$itemWrap.children(t.item),this.size=this.$item.size(),this.curIndex=t.startSlide,e.setLayout(this.itemWrap),t.isAuto&&e.autoPlay(),t.isFlexible&&i(window).on("resize",i.proxy(e.resize,this))},setLayout:function(){if(this.$itemWrap.wrap("<div class='DSlider-wrap' />"),this.wrap=this.$itemWrap.parent(),t.isShowControls&&(this.$Controls=i("<div class='showControl'><a class='prev'></a><a class='next'></a></div>").appendTo(this.wrap),e.controlsClick(this.$itemWrap)),t.isShowTitle&&(this.$Titles=i("<div class='showTitle' />").appendTo(this.wrap),e.setTitle(this.$itemWrap)),t.isShowPage){this.$pages=i("<ul class='showPage' />");for(var s=1;s<=this.size;s++)i("<a href='javascript:;'>"+s+"</a>").appendTo(this.$pages);this.$pages.appendTo(this.wrap),e.setPage(),e.pagesClick()}"fade"==t.mode&&e.setFade(),e.setCss()},setPage:function(){t.isShowPage&&this.$pages&&this.$pages.find("a").eq(this.curIndex).addClass("active").siblings().removeClass("active")},setTitle:function(){if(t.isShowTitle&&this.$Titles){var e=this.$item.eq(this.curIndex);i.isFunction(t.titleAttr)?t.titleAttr.call(e,this.curIndex):this.$Titles.html(e.attr(t.titleAttr))}},controlsClick:function(){var i=this;i.$Controls.find(".next").on("click",function(){i.curIndex+1==i.size?e[t.mode](i.$item.eq(0)):e[t.mode](i.$item.eq(i.curIndex+1))}),this.$Controls.find(".prev").on("click",function(){0==i.curIndex?e[t.mode](i.$item.eq(i.size-1)):e[t.mode](i.$item.eq(i.curIndex-1))})},pagesClick:function(){var s=this;s.$pages.find("a").on("click",function(){var a=i(this),n=a.index();s.curIndex!=n&&e[t.mode](a)})},move:function(i){if("move"==t.mode){this.$itemWrap.stop(),i=i.index()>=0?i:this.$item.eq(t.startSlide);var s=i.index();if("left"==t.direction){var a=this.$item.width();this.$itemWrap.animate({left:"-"+a*s+"px"},t.affectTime)}else if("top"==t.direction){var n=this.$item.height();this.$itemWrap.animate({top:"-"+n*s+"px"},t.affectTime)}this.curIndex=s,e.setPage(),e.setTitle()}},setFade:function(){this.$item.hide().eq(this.curIndex).show()},setCss:function(){("move"==t.mode||"fade"==t.mode)&&(t.isFlexible||this.wrap.width(this.$item.find("img").width()),"move"==t.mode?"left"==t.direction?(this.$itemWrap.css({width:100*this.size+"%",position:"relative"}),this.$item.width(this.wrap.width())):"top"==t.direction&&(this.$itemWrap.css({height:100*this.size+"%",position:"relative"}),this.$item.height(this.wrap.height()),this.$item.css({clear:"left"})):(this.$itemWrap.css("width","100%"),this.$item.css("position","absolute")))},fade:function(i){if("fade"==t.mode){this.$itemWrap.stop(),i=i.index()>=0?i:this.$item.eq(t.startSlide);var s=i.index();this.$item.fadeOut(t.affectTime).eq(s).fadeIn(t.affectTime),this.curIndex=s,e.setPage(),e.setTitle()}},resize:function(){var t=this,e=t.wrap.width();t.$item.each(function(){i(this).width(e)})},autoPlay:function(){if(t.isAuto){var i=this;clearInterval(this.playTimer),this.playTimer=setInterval(function(){e[t.mode](i.$item.eq(i.curIndex+1))},t.intervalTime)}}};return this.each(function(){e.init(i(this))})}}(window.jQuery);